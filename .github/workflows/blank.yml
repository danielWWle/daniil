import asyncio
from aiogram import Bot, Dispatcher, types
from aiogram.filters import Command

TOKEN = "7520493343:AAFh5BW6BgKIh4YRs4kL4X7ih9AwbuUuhbk"

users = {}
bot = Bot(token=TOKEN)
dp = Dispatcher()

@dp.message(Command("start"))
async def start(message: types.Message):
    await message.reply("–ü—Ä–∏–≤–µ—Ç! –û—Ç–ø—Ä–∞–≤—å —á–∏—Å–ª–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π")

@dp.message(lambda message: message.text.isdigit())
async def set_reminder(message: types.Message):
    user_id = message.from_user.id
    try:
        count = int(message.text)
        users[user_id] = count
        await message.reply(f"–ë—É–¥—É –Ω–∞–ø–æ–º–∏–Ω–∞—Ç—å {count} —Ä–∞–∑!")
        
        for i in range(count):
            await asyncio.sleep(5)
            await message.answer("üîî –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ! https://youtu.be/dQw4w9WgXcQ")
            
    except Exception as e:
        await message.reply(f"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞: {e}")

@dp.message()
async def handle_other_messages(message: types.Message):
    await message.reply("–ù—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —á–∏—Å–ª–æ")

async def main():
    print("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω!")
    await dp.start_polling(bot)

if __name__ == '__main__':
    asyncio.run(main())
